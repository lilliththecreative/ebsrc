
<<<<<<< HEAD
PLAY_CREDITS:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	END_STACK_VARS
	LDA #1
	STA DISABLED_TRANSITIONS
=======
PLAY_CREDITS: ;$C4F554
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE_CLOBBER 22
	LDA #$0001
	STA UNKNOWN_7EB4B6
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	JSL UNKNOWN_C4F07D
	JSL OAM_CLEAR
	LDX #$0002
	LDA #$0001
	JSL FADE_IN
	JSL COUNT_PHOTO_FLAGS
	CMP #$0000
	BEQ @UNKNOWN0
	JSL COUNT_PHOTO_FLAGS
	TAY
	LDA #CREDITS_LENGTH
	JSL DIVISION16S_DIVISOR_POSITIVE
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA #CREDITS_LENGTH
@UNKNOWN1:
	STA $04
	STA $02
	LDA #.LOWORD(UNKNOWN_C0F41E)
	JSL SET_IRQ_CALLBACK
	LDY #$0000
	STY $14
	JMP @UNKNOWN12
@UNKNOWN2:
	TYA
	JSL UNKNOWN_C4F264
	CMP #$0000
	BEQL @UNKNOWN11
	LDX #$FFFF
	LDA #$0040
	JSL UNKNOWN_C496E7
	.A16
	LDX #$0040
	STX $12
	BRA @UNKNOWN5
@UNKNOWN4:
	JSL UPDATE_MAP_PALETTE_ANIMATION
	JSL UNKNOWN_C4F01D
	JSL UNKNOWN_C1004E
	LDX $12
	DEX
	STX $12
@UNKNOWN5:
	BNE @UNKNOWN4
	JSL UNKNOWN_C49740
	LDY $14
	TYA
	JSL UNKNOWN_C4F46F
	BRA @UNKNOWN7
@UNKNOWN6:
	JSL UNKNOWN_C4F01D
	JSL UNKNOWN_C1004E
@UNKNOWN7:
	LDA $02
	CMP BG3_Y_POS
	BGT @UNKNOWN6
<<<<<<< HEAD
	LOADPTR BUFFER+32, @LOCAL00
	LDX #480
=======
	LOADPTR UNKNOWN_7F0000+32, $0E
	LDX #$01E0
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL MEMSET24
	.A16
	LDX #$FFFF
	LDA #$0040
	JSL UNKNOWN_C496E7
	LDX #$0000
	STX $12
	BRA @UNKNOWN10
@UNKNOWN9:
	JSL UPDATE_MAP_PALETTE_ANIMATION
	JSL UNKNOWN_C4F01D
	JSL UNKNOWN_C1004E
	LDX $12
	INX
	STX $12
@UNKNOWN10:
	CPX #$0040
	BCC @UNKNOWN9
	SEP #PROC_FLAGS::ACCUM8
	STZ_BADOPT $0E
	LDX #$01E0
	REP #PROC_FLAGS::ACCUM8
<<<<<<< HEAD
	LDA #.LOWORD(PALETTES) + BPP4PALETTE_SIZE * 1
=======
	LDA #$0220
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	JSL MEMSET16
	LDA #$0018
	JSL UNKNOWN_C0856B
	JSL UNKNOWN_C4F01D
	JSL UNKNOWN_C1004E
	LDA $02
	CLC
	ADC $04
	STA $02
@UNKNOWN11:
	LDY $14
	INY
	STY $14
@UNKNOWN12:
	CPY #$0020
	BCCL @UNKNOWN2
	BRA @UNKNOWN15
@UNKNOWN14:
	JSL UNKNOWN_C4F01D
	JSL UNKNOWN_C1004E
@UNKNOWN15:
	LDA BG3_Y_POS
	CMP #CREDITS_LENGTH
	BCC @UNKNOWN14
	JSL RESET_IRQ_CALLBACK
	LDX #$0000
	STX $12
	BRA @UNKNOWN17
@UNKNOWN16:
	JSL UNKNOWN_C1004E
	LDX $12
	INX
	STX $12
@UNKNOWN17:
	CPX #$07D0
	BCC @UNKNOWN16
	LDY #$0000
	LDX #$0002
	LDA #$0001
	JSL FADE_OUT_WITH_MOSAIC
	LDX #$0000
	LDA #$00B3
	JSL UNKNOWN_C4249A
	JSL UNKNOWN_C08726
	JSL OVERWORLD_SETUP_VRAM
	JSL UNKNOWN_C021E6
	LDA #$0017
	STA ENTITY_ALLOCATION_MIN_SLOT
	LDA #$0018
	STA ENTITY_ALLOCATION_MAX_SLOT
	LDY #$0000
	TYX
	LDA #EVENT_SCRIPT::EVENT_001
	JSL INIT_ENTITY
	JSL UNKNOWN_C02D29
	JSL UNKNOWN_C03A24
	PROMOTENEARPTR BG2_BUFFER, $06
	LDX #$0000
	BRA @UNKNOWN19
@UNKNOWN18:
	REP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA [$06]
	INC $06
	INC $06
	INX
@UNKNOWN19:
	CPX #$0200
	BCC @UNKNOWN18
	JSL UNDRAW_FLYOVER_TEXT
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0017
	STA TM_MIRROR
	REP #PROC_FLAGS::ACCUM8
	LDA #.LOWORD(PROCESS_OVERWORLD_TASKS)
	JSL SET_IRQ_CALLBACK
<<<<<<< HEAD
	STZ DISABLED_TRANSITIONS
	END_C_FUNCTION
=======
	STZ UNKNOWN_7EB4B6
	PLD
	RTL
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
