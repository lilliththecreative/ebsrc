
CHECK_IF_VALID_TARGET: ;$C4A1F5
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA BATTLERS_TABLE+battler::consciousness,X
	AND #$00FF
	BEQ @INVALID
	LDA BATTLERS_TABLE+battler::npc_id,X
	AND #$00FF
	BNE @INVALID
	LDA BATTLERS_TABLE+battler::afflictions,X
	AND #$00FF
	CMP #STATUS_0::UNCONSCIOUS
	BEQ @INVALID
	CMP #STATUS_0::DIAMONDIZED
	BEQ @INVALID
	LDA #$0001
	BRA @RETURN
@INVALID:
	LDA #$0000
@RETURN:
	RTL
