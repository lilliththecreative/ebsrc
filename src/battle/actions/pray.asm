
BTLACT_PRAY:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	END_STACK_VARS
.IF .DEFINED(JPN)
	@PRAYERTEXTPTR := @VIRTUAL06
	@PRAYERTEXTPTRTMP := @VIRTUAL0A
.ELSE
	@PRAYERTEXTPTR := @VIRTUAL0A
	@PRAYERTEXTPTRTMP := @VIRTUAL06
.ENDIF
	LDA #16
	JSR RAND_LIMIT
	TAX
	LDA f:PRAYER_LIST,X
	AND #$00FF
	STA @LOCAL02
	LOADPTR PRAYER_TEXT_PTRS, @PRAYERTEXTPTR
	LDA @LOCAL02
	ASL
	ASL
	CLC
	ADC @PRAYERTEXTPTR
	STA @PRAYERTEXTPTR
	DEREFERENCE_PTR_TO @PRAYERTEXTPTR, @PRAYERTEXTPTRTMP
	MOVE_INT @PRAYERTEXTPTRTMP, @LOCAL00
	JSL DISPLAY_IN_BATTLE_TEXT
	LDA @LOCAL02
	BEQ @UNKNOWN7
	CMP #1
	BEQ @UNKNOWN8
	CMP #2
	BEQ @UNKNOWN9
	CMP #3
	BEQL @UNKNOWN10
	CMP #4
	BEQL @UNKNOWN11
	CMP #5
	BEQL @UNKNOWN12
	CMP #6
	BEQL @UNKNOWN13
	CMP #7
	BEQL @UNKNOWN14
	CMP #8
	BEQL @UNKNOWN15
	CMP #9
	BEQL @UNKNOWN16
	JMP @UNKNOWN17
@UNKNOWN7:
	JSL TARGET_ALLIES
	JSL REMOVE_NPC_TARGETTING
	LOADPTR BTLACT_PRAY_SUBTLE, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL01
	JMP @UNKNOWN17
@UNKNOWN8:
	JSL TARGET_ALLIES
	JSL REMOVE_NPC_TARGETTING
	LOADPTR BTLACT_PRAY_WARM, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL01
	JMP @UNKNOWN17
@UNKNOWN9:
	JSL TARGET_ALLIES
	JSL REMOVE_NPC_TARGETTING
	LOADPTR BTLACT_PRAY_MYSTERIOUS, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL01
	JMP @UNKNOWN17
@UNKNOWN10:
	JSL TARGET_ALLIES
	JSL REMOVE_NPC_TARGETTING
	JSR REMOVE_DEAD_TARGETTING
	MOVE_INT BATTLER_TARGET_FLAGS, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL00
	JSL RANDOM_TARGETTING
	MOVE_INT @VIRTUAL06, BATTLER_TARGET_FLAGS
	LOADPTR BTLACT_PRAY_GOLDEN, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL01
	JMP @UNKNOWN17
@UNKNOWN11:
	JSL TARGET_ALL_ENEMIES
	JSL REMOVE_NPC_TARGETTING
	JSR REMOVE_DEAD_TARGETTING
	MOVE_INT BATTLER_TARGET_FLAGS, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL00
	JSL RANDOM_TARGETTING
	MOVE_INT @VIRTUAL06, BATTLER_TARGET_FLAGS
	LOADPTR BTLACT_PSI_ROCKIN_B, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL01
	BRA @UNKNOWN17
@UNKNOWN12:
	JSL TARGET_ALL
	LOADPTR BTLACT_PSI_FLASH_A, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL01
	BRA @UNKNOWN17
@UNKNOWN13:
	JSL TARGET_ALL
	LOADPTR BTLACT_PRAY_RAINBOW, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL01
	BRA @UNKNOWN17
@UNKNOWN14:
	JSL TARGET_ALL
	LOADPTR BTLACT_PRAY_AROMA, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL01
	BRA @UNKNOWN17
@UNKNOWN15:
	JSL TARGET_ALL
	LOADPTR BTLACT_PRAY_RENDING_SOUND, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL01
	BRA @UNKNOWN17
@UNKNOWN16:
	JSL TARGET_ALL
	LOADPTR BTLACT_DEFENSE_DOWN_A, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL01
@UNKNOWN17:
	LDA @LOCAL02
	CMP #6
	BEQ @UNKNOWN18
	JSR REMOVE_DEAD_TARGETTING
@UNKNOWN18:
	MOVE_INT @LOCAL01, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL00
	JSL UNKNOWN_C240A4
	MOVE_INT_CONSTANT 0, BATTLER_TARGET_FLAGS
	END_C_FUNCTION
