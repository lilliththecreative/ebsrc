
SHIELDS_COMMON: ;$C29CDC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE 16
	TXY
	STA $0E
	CLC
	ADC #$0023
	TAX
	STY $02
	LDA __BSS_START__,X
	AND #$00FF
	CMP $02
	BNE @UNKNOWN3
	LDA $0E
	CLC
	ADC #$0025
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA __BSS_START__,X
	INC
	INC
	INC
	STA __BSS_START__,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CLC
	SBC #$0008
	BRANCHLTEQS @UNKNOWN2
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0008
	STA __BSS_START__,X
@UNKNOWN2:
	REP #PROC_FLAGS::ACCUM8
	LDA #$0001
	BRA @UNKNOWN4
@UNKNOWN3:
	TYA
	SEP #PROC_FLAGS::ACCUM8
	STA __BSS_START__,X
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0003
	STA a:battler::shield_hp,X
	REP #PROC_FLAGS::ACCUM8
	LDA #$0000
@UNKNOWN4:
	PLD
	RTS
