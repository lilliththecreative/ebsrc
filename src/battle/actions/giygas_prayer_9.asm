
BTLACT_GIYGAS_PRAYER_9: ;$C2C6F0
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE_CLOBBER 26
	JSL RESET_HPPP_ROLLING
	LOADPTR MSG_BTL_INORU_BACK_TO_PC_9, $0E
	LDA #$004A
	JSR UNKNOWN_C2C41F
	LDA #GIYGAS_PRAYER_DAMAGE_7
	JSR GIYGAS_HURT_PRAYER
	LOADPTR MSG_BTL_INORU_BACK_TO_PC_F_1, $0E
	LDA #$004A
	JSR UNKNOWN_C2C41F
	LDA #GIYGAS_PRAYER_DAMAGE_8
	JSR GIYGAS_HURT_PRAYER
	LOADPTR MSG_BTL_INORU_BACK_TO_PC_F_2, $0E
	LDA #$004A
	JSR UNKNOWN_C2C41F
	LDA #GIYGAS_PRAYER_DAMAGE_9
	JSR GIYGAS_HURT_PRAYER
	LOADPTR MSG_BTL_INORU_BACK_TO_PC_F_3, $0E
	LDA #$004A
	JSR UNKNOWN_C2C41F
	LDA #GIYGAS_PRAYER_DAMAGE_10
	JSR GIYGAS_HURT_PRAYER
	JSL REDIRECT_CLOSE_FOCUS_WINDOW
	STZ BATTLE_MODE_FLAG
	JSL REDIRECT_HIDE_HPPP_WINDOWS
	LDA #$0001
	STA BATTLE_MODE_FLAG
	JSL WINDOW_TICK
	LDA #GIYGAS_PHASES::DEFEATED
	STA GIYGAS_PHASE
	LDA #MUSIC::GIYGAS_DEATH
	JSL CHANGE_MUSIC
	LDY #$0000
	STY $18
@UNKNOWN0:
	LOADPTR FINAL_GIYGAS_PRAYER_NOISE_TABLE, $06
	LDY $18
	TYA
	MOVE_INTX $06, $0A
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	TAX
	INY
	STY $18
	TXA
	JSL PLAY_SOUND
	LDY $18
	TYA
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	TAX
	BEQ @UNKNOWN1
	INY
	STY $18
	TXA
	JSR WAIT
	BRA @UNKNOWN0
@UNKNOWN1:
	LDA #MUSIC::GIYGAS_DEATH2
	JSL CHANGE_MUSIC
	STZ GIYGAS_PHASE
	LDA #8*SECONDS
	JSR WAIT
	LDX #.LOWORD(BATTLERS_TABLE) + 9 * .SIZEOF(battler) + battler::consciousness
	STX $16
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA __BSS_START__,X
	JSL UNKNOWN_C2F8F9
	.A16
	DISPLAY_BATTLE_TEXT_PTR MSG_BTL_POKEY_RUN_AWAY
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	LDX $16
	STA __BSS_START__,X
	JSL UNKNOWN_C2F8F9
	.A16
	LDA #1*SECOND
	JSR WAIT
	.A16
	LDY #$0002
	STY $14
	TYA
	STA $04
	LDA #$002D
	STA $02
	LDA #1*SECOND
	STA VERTICAL_SHAKE_DURATION
	LDX #$0000
	STX $12
	BRA @UNKNOWN8
@UNKNOWN2:
	.A16
	LDA #$0000
	STA $18
	BRA @UNKNOWN5
@UNKNOWN3:
	JSL WINDOW_TICK
	.A16
	LDA $04
	BEQ @UNKNOWN4
	LDA $02
	DEC
	STA $02
	BNE @UNKNOWN4
	LDA $04
	DEC
	STA $04
	LDA #$002D
	STA $02
	LDA #1*SECOND
	STA VERTICAL_SHAKE_DURATION
@UNKNOWN4:
	LDA $18
	INC
	STA $18
@UNKNOWN5:
	LDX $12
	TXA
	ASL
	TAX
	LDA $18
	CMP f:GIYGAS_DEATH_STATIC_TRANSITION_DELAYS,X
	BCC @UNKNOWN3
	JSL UNKNOWN_C2DAE3
	LDY $14
	TYA
	JSL UNKNOWN_C0AC3A
	LDY $14
	CPY #$0002
	BNE @UNKNOWN6
	LDY #$0001
	STY $14
	BRA @UNKNOWN7
@UNKNOWN6:
	LDY #$0002
	STY $14
@UNKNOWN7:
	LDX $12
	INX
	STX $12
@UNKNOWN8:
	TXA
	ASL
	TAX
	LDA f:GIYGAS_DEATH_STATIC_TRANSITION_DELAYS,X
	BNE @UNKNOWN2
	LDA #MUSIC::GIYGAS_STATIC
	JSL CHANGE_MUSIC
	.A16
	LDA #10*SECONDS
	JSR WAIT
	LDA #SFX::PSI_THUNDER_DAMAGE
	JSL PLAY_SOUND
	JSL STOP_MUSIC
	LDY #$0005
	LDX #$0000
	TYA
	JSL UNKNOWN_C2E8C4
	BRA @UNKNOWN10
@UNKNOWN9:
	JSL WINDOW_TICK
@UNKNOWN10:
	JSL UNKNOWN_C2E9C8
	CMP #$0000
	BNE @UNKNOWN9
	JSL STOP_MUSIC
	LDX #MUSIC::NONE
	LDA #ENEMY_GROUP::BOSS_GIYGAS_PHASE_FINAL
	JSR UNKNOWN_C2C21F
	LDA #8*SECONDS
	JSR WAIT
<<<<<<< HEAD
	LDA #3
	STA SPECIAL_DEFEAT
	END_C_FUNCTION
=======
	LDA #$0003
	STA UNKNOWN_7EAA0E
	PLD
	RTL
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
