
RELOAD_HOTSPOTS:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT8
	END_STACK_VARS
	LDA #0
	STA @VIRTUAL02
	JMP @UNKNOWN3
@UNKNOWN0:
	LDA @VIRTUAL02
	CLC
	ADC #.LOWORD(GAME_STATE)
	TAY
	SEP #PROC_FLAGS::ACCUM8
	LDA __BSS_START__ + game_state::active_hotspot_modes,Y
	STA @LOCAL00
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BEQL @UNKNOWN2
	LDA @VIRTUAL02
	OPTIMIZED_MULT @VIRTUAL04, .SIZEOF(active_hotspot)
	CLC
	ADC #.LOWORD(ACTIVE_HOTSPOTS)
	TAX
	LOADPTR MAP_HOTSPOTS, @VIRTUAL06
	LDA __BSS_START__+game_state::active_hotspot_ids,Y
	AND #$00FF
	OPTIMIZED_MULT @VIRTUAL04, 8
	CLC
	ADC @VIRTUAL06
	STA @VIRTUAL06
	LDA @LOCAL00
	AND #$00FF
	STA __BSS_START__,X
	MOVE_INT @VIRTUAL06, @VIRTUAL0A
	LDA [@VIRTUAL0A]
	OPTIMIZED_MULT @VIRTUAL04, 8
	STA a:active_hotspot::x1,X
	LDY #predefined_hotspot::x2
	LDA [@VIRTUAL06],Y
	OPTIMIZED_MULT @VIRTUAL04, 8
	STA a:active_hotspot::x2,X
	LDY #predefined_hotspot::y1
	LDA [@VIRTUAL06],Y
	OPTIMIZED_MULT @VIRTUAL04, 8
	STA a:active_hotspot::y1,X
	LDY #predefined_hotspot::y2
	LDA [@VIRTUAL06],Y
	OPTIMIZED_MULT @VIRTUAL04, 8
	STA a:active_hotspot::y2,X
	LDA @VIRTUAL02
	OPTIMIZED_MULT @VIRTUAL04, 4
	CLC
.IF .DEFINED(JPN)
	ADC #.LOWORD(GAME_STATE)
	CLC
	ADC #game_state::active_hotspot_pointers
.ELSE
	ADC #.LOWORD(GAME_STATE) + game_state::active_hotspot_pointers
.ENDIF
	TAY
	MOVE_INT_YPTRSRC __BSS_START__, @VIRTUAL06
	TXA
	CLC
	ADC #active_hotspot::pointer
	TAY
	MOVE_INT_YPTRDEST @VIRTUAL06, __BSS_START__
@UNKNOWN2:
	INC @VIRTUAL02
@UNKNOWN3:
	LDA @VIRTUAL02
	CMP #2
	BCCL @UNKNOWN0
	END_C_FUNCTION
