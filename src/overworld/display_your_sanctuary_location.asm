
DISPLAY_YOUR_SANCTUARY_LOCATION:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_PARAM_INT16 ;int
	END_STACK_VARS
	AND #$0007
	STA @VIRTUAL02
	ASL
	TAX
	LDA LOADED_YOUR_SANCTUARY_LOCATIONS,X
	BNE @UNKNOWN0
	LDA @VIRTUAL02
	JSL LOAD_YOUR_SANCTUARY_LOCATION
	JSL WAIT_UNTIL_NEXT_FRAME
@UNKNOWN0:
.IF .DEFINED(USA)
	JSL WAIT_DMA_FINISHED
.ENDIF
	LOADPTR BUFFER, @VIRTUAL06
	LDY #$0800
	LDA @VIRTUAL02
	JSL MULT16
	CLC
	ADC @VIRTUAL06
	STA @VIRTUAL06
	STA @LOCAL00
	LDA @VIRTUAL06+2
	STA @LOCAL00+2
	LDY #$3800
	LDX #$0780
	SEP #PROC_FLAGS::ACCUM8
	LDA #0
	JSL PREPARE_VRAM_COPY
	.A16
	LOADPTR BUFFER + $4000, @VIRTUAL06
	LDY #$0200
	LDA @VIRTUAL02
	JSL MULT16
	CLC
	ADC @VIRTUAL06
	STA @VIRTUAL06
	STA @LOCAL00
	LDA @VIRTUAL06+2
	STA @LOCAL00+2
	LDX #BPP4PALETTE_SIZE * 8
	LDA #.LOWORD(PALETTES)
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	LDA #PALETTE_UPLOAD::BG_ONLY
	STA PALETTE_UPLOAD_MODE
	REP #PROC_FLAGS::ACCUM8
	STZ SCREEN_TOP_Y
	STZ SCREEN_LEFT_X
	STZ BG1_Y_POS
	STZ BG1_X_POS
	END_C_FUNCTION
