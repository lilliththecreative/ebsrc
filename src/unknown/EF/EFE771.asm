
SAVE_REPLAY_SAVE_SLOT:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_INT32
	END_STACK_VARS
	JSL TEST_SRAM_SIZE
	CMP #0
	BEQL @INSUFFICIENT_SRAM
	LOADPTR UNKNOWN_316000, @VIRTUAL06
	LOADPTR __BSS_START__ & $FF0000, @VIRTUAL0A
	MOVE_INT @VIRTUAL06, @LOCAL00
	LDA #.LOWORD(GAME_STATE)
	STORE_INT1632 @VIRTUAL06
	CLC
	ADD_INT_ASSIGN @VIRTUAL06, @VIRTUAL0A
	MOVE_INT @VIRTUAL06, @LOCAL01
	LDA #.SIZEOF(game_state)
	JSL MEMCPY24
	LOADPTR UNKNOWN_3161D9, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL00
	LDA #.LOWORD(PARTY_CHARACTERS)
	STORE_INT1632 @VIRTUAL06
	CLC
	ADD_INT_ASSIGN @VIRTUAL06, @VIRTUAL0A
	MOVE_INT @VIRTUAL06, @LOCAL01
	LDA #.SIZEOF(char_struct) * (TOTAL_PARTY_COUNT)
	JSL MEMCPY24
	LOADPTR UNKNOWN_316413, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL00
	LDA #.LOWORD(EVENT_FLAGS)
	STORE_INT1632 @VIRTUAL06
	CLC
	ADD_INT_ASSIGN @VIRTUAL06, @VIRTUAL0A
	MOVE_INT @VIRTUAL06, @LOCAL01
	LDA #.SIZEOF(save_block::event_flags)
	JSL MEMCPY24
	LOADPTR UNKNOWN_316493, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL00
	LDA #.LOWORD(TIMER)
	STORE_INT1632 @VIRTUAL06
	CLC
	ADD_INT_ASSIGN @VIRTUAL06, @VIRTUAL0A
	MOVE_INT @VIRTUAL06, @LOCAL01
	LDA #4
	JSL MEMCPY24
	LOADPTR UNKNOWN_326000, @LOCAL00
	JSL UNKNOWN_C083C1
@INSUFFICIENT_SRAM:
	END_C_FUNCTION
