
UNKNOWN_C1EC8F:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	STACK_RESERVE_PARAM_INT16
	END_STACK_VARS
	TAX
	STX @LOCAL01
	LDA #.LOWORD(GAME_STATE)+game_state::text_flavour
	STA @VIRTUAL02
	LDX @VIRTUAL02
	SEP #PROC_FLAGS::ACCUM8
	LDA __BSS_START__,X
	STA @VIRTUAL00
	LDX @LOCAL01
	REP #PROC_FLAGS::ACCUM8
	TXA
	SEP #PROC_FLAGS::ACCUM8
	LDX @VIRTUAL02
	STA __BSS_START__,X
	JSL LOAD_WINDOW_GFX
	.A16
	COPY_TO_VRAM3 BUFFER, VRAM::TEXT_LAYER_TILES, $3800, 0
	JSL UNKNOWN_C47F87
	SEP #PROC_FLAGS::ACCUM8
	LDA #PALETTE_UPLOAD::FULL
	STA PALETTE_UPLOAD_MODE
	LDA @VIRTUAL00
	LDX @VIRTUAL02
	STA __BSS_START__,X
	REP #PROC_FLAGS::ACCUM8
	END_C_FUNCTION
