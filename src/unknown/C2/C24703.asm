
UNKNOWN_C24703:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT16
	STACK_RESERVE_PARAM_INT16
	END_STACK_VARS
	TAX
	STX @LOCAL00
	MOVE_INT_CONSTANT 0, BATTLER_TARGET_FLAGS
	LDA a:battler::action_targetting,X
	AND #$00FF
	CMP #1
	BEQ @UNKNOWN2
	CMP #2
	BEQ @UNKNOWN3
	CMP #4
	BEQ @UNKNOWN3
	CMP #17
	BEQ @UNKNOWN5
	CMP #18
	BEQL @UNKNOWN11
	CMP #20
	BEQL @UNKNOWN12
	JMP @UNKNOWN14
@UNKNOWN2:
	LDA a:battler::current_target,X
	AND #$00FF
	DEC
	JSL TARGET_BATTLER
	JMP @UNKNOWN14
@UNKNOWN3:
	JSL TARGET_ALLIES
	LDX @LOCAL00
	LDA a:battler::current_action,X
	JSL GET_SHIELD_TARGETTING
	CMP #0
	BNE @UNKNOWN4
	LDX @LOCAL00
	LDA a:battler::ally_or_enemy,X
	AND #$00FF
	BNE @UNKNOWN4
	JSL REMOVE_NPC_TARGETTING
@UNKNOWN4:
	JSL REMOVE_STATUS_UNTARGETTABLE_TARGETS
	JMP @UNKNOWN14
@UNKNOWN5:
	LDA a:battler::current_target,X
	AND #$00FF
	CMP NUM_BATTLERS_IN_FRONT_ROW
	BLTEQ @UNKNOWN6
	SEC
	SBC NUM_BATTLERS_IN_FRONT_ROW
	TAX
	DEX
	LDA BACK_ROW_BATTLERS,X
	AND #$00FF
	JSL TARGET_BATTLER
	BRA @UNKNOWN7
@UNKNOWN6:
	TAX
	DEX
	LDA FRONT_ROW_BATTLERS,X
	AND #$00FF
	JSL TARGET_BATTLER
@UNKNOWN7:
	LDX @LOCAL00
	LDA a:battler::current_action,X
	CMP #BATTLE_ACTIONS::PSI_HEALING_OMEGA
	BNE @UNKNOWN14
	LDA #8
	STA @LOCAL00
	BRA @UNKNOWN10
@UNKNOWN8:
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA BATTLERS_TABLE+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN9
	LDA BATTLERS_TABLE+battler::afflictions,X
	AND #$00FF
	CMP #STATUS_0::UNCONSCIOUS
	BNE @UNKNOWN9
	MOVE_INT_CONSTANT 0, BATTLER_TARGET_FLAGS
	LDA @LOCAL00
	JSL TARGET_BATTLER
	BRA @UNKNOWN14
@UNKNOWN9:
	LDA @LOCAL00
	INC
	STA @LOCAL00
@UNKNOWN10:
	CMP #BATTLER_COUNT
	BCC @UNKNOWN8
	BRA @UNKNOWN14
@UNKNOWN11:
	LDA a:battler::current_target,X
	AND #$00FF
	JSL TARGET_ROW
	JSL REMOVE_NPC_TARGETTING
	JSL REMOVE_STATUS_UNTARGETTABLE_TARGETS
	BRA @UNKNOWN14
@UNKNOWN12:
	JSL TARGET_ALL_ENEMIES
	LDX @LOCAL00
	LDA a:battler::ally_or_enemy,X
	AND #$00FF
	BNE @UNKNOWN13
	JSL REMOVE_NPC_TARGETTING
@UNKNOWN13:
	JSL REMOVE_STATUS_UNTARGETTABLE_TARGETS
@UNKNOWN14:
	END_C_FUNCTION
