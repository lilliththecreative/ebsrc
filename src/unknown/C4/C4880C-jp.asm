
UNKNOWN_C4880C:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_INT32
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	END_STACK_VARS
	LDY #0
	STY @LOCAL07
	LOADPTR TEXT_WINDOW_GFX, @LOCAL00
	LOADPTR BUFFER, @LOCAL01
	JSL DECOMP
	LOADPTR BUFFER + $4000, @VIRTUAL0A
	LDX #0
	BRA @UNKNOWN3
@UNKNOWN0:
	LDA #0
	STA @LOCAL06
	BRA @UNKNOWN2
@UNKNOWN1:
	LDA #0
	STA [@VIRTUAL0A]
	INC @VIRTUAL0A
	INC @VIRTUAL0A
	LDA @LOCAL06
	INC
	STA @LOCAL06
@UNKNOWN2:
	CMP #8
	BCC @UNKNOWN1
	INX
@UNKNOWN3:
	CPX #29
	BCC @UNKNOWN0
	LDY @LOCAL07
	TYA
	CLC
	ADC #30
	TAY
	STY @LOCAL07
	LDX #0
	STX @LOCAL05
	BRA @UNKNOWN5
@UNKNOWN4:
	MOVE_INT @VIRTUAL0A, @LOCAL00
	LDA f:LUMINE_HALL_TEXT,X
	AND #$00FF
	JSL UNKNOWN_C4810E
	MOVE_INT @VIRTUAL06, @VIRTUAL0A
	LDY @LOCAL07
	INY
	INY
	INY
	INY
	STY @LOCAL07
	LDX @LOCAL05
	INX
	STX @LOCAL05
@UNKNOWN5:
	CPX #3
	BCC @UNKNOWN4
	LDX #4
	STX @LOCAL05
	PROMOTENEARPTR PARTY_CHARACTERS + char_struct::name, @VIRTUAL06
	REP #PROC_FLAGS::ACCUM8
	MOVE_INT @VIRTUAL06, @LOCAL04
	BRA @UNKNOWN8
@UNKNOWN7:
	DEX
	STX @LOCAL05
	AND #$00FF
	STA @LOCAL03
	INC @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL04
	MOVE_INT @VIRTUAL0A, @LOCAL00
	LDA @LOCAL03
	JSL UNKNOWN_C4810E
	MOVE_INT @VIRTUAL06, @VIRTUAL0A
	LDY @LOCAL07
	INY
	INY
	INY
	INY
	STY @LOCAL07
@UNKNOWN8:
	MOVE_INT @LOCAL04, @VIRTUAL06
	LDA [@VIRTUAL06]
	AND #$00FF
	BEQ @UNKNOWN9
	LDX @LOCAL05
	BNE @UNKNOWN7
@UNKNOWN9:
	LDX #0
	STX @LOCAL05
	BRA @UNKNOWN10
@UNKNOWN9_:
	MOVE_INT @VIRTUAL0A, @LOCAL00
	LDA f:LUMINE_HALL_TEXT+3,X
	AND #$00FF
	JSL UNKNOWN_C4810E
	MOVE_INT @VIRTUAL06, @VIRTUAL0A
	LDY @LOCAL07
	INY
	INY
	INY
	INY
	STY @LOCAL07
	LDX @LOCAL05
	INX
	STX @LOCAL05
@UNKNOWN10:
	CPX #97
	BCC @UNKNOWN9_
	LDX #0
	BRA @UNKNOWN16
@UNKNOWN11:
@UNKNOWN12:
@UNKNOWN13:
	LDA #0
	STA @LOCAL06
	BRA @UNKNOWN15
@UNKNOWN14:
	LDA #0
	STA [@VIRTUAL0A]
	INC @VIRTUAL0A
	INC @VIRTUAL0A
	LDA @LOCAL06
	INC
	STA @LOCAL06
@UNKNOWN15:
	CMP #8
	BCC @UNKNOWN14
	INX
@UNKNOWN16:
	CPX #30
	BCC @UNKNOWN13
	LOADPTR BUFFER + $2000, @VIRTUAL0A
	LOADPTR BUFFER + $4000, @LOCAL02
	LDA #0
	STA @LOCAL06
	BRA @UNKNOWN18
@UNKNOWN17:
	LDA #$0C10
	STA [@VIRTUAL0A]
	INC @VIRTUAL0A
	INC @VIRTUAL0A
	LDA @LOCAL06
	INC
	STA @LOCAL06
@UNKNOWN18:
	CMP #8
	BCC @UNKNOWN17
	LDA #0
	STA @LOCAL06
	BRA @UNKNOWN22
@UNKNOWN19:
	LDX #0
	BRA @UNKNOWN21
@UNKNOWN20:
	LDY #16
	LDA [@LOCAL02],Y
	LSR
	AND #$0005
	STA @VIRTUAL04
	LDA [@LOCAL02]
	ASL
	AND #$000A
	ORA @VIRTUAL04
	STA @VIRTUAL02
	STA [@VIRTUAL0A]
	MOVE_INT @VIRTUAL0A, @VIRTUAL06
	LDA @VIRTUAL02
	CLC
	ADC #$0C10
	STA [@VIRTUAL06]
	MOVE_INT @LOCAL02, @VIRTUAL06
	LDA [@VIRTUAL06]
	CLC
	ADC #$0C10
	STA [@VIRTUAL06]
	INC @VIRTUAL0A
	INC @VIRTUAL0A
	MOVE_INT @LOCAL02, @VIRTUAL06
	INC @VIRTUAL06
	INC @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL02
	INX
@UNKNOWN21:
	CPX #8
	BCC @UNKNOWN20
	LDA @LOCAL06
	INC
	STA @LOCAL06
@UNKNOWN22:
	LDY @LOCAL07
	TYA
	CLC
	ADC #30
	STA @VIRTUAL02
	LDA @LOCAL06
	CMP @VIRTUAL02
	BCC @UNKNOWN19
	LDA CURRENT_ENTITY_SLOT
	ASL
	TAX
	TYA
	ASL
	STA ENTITY_SCRIPT_VAR0_TABLE,X
	SEP #PROC_FLAGS::ACCUM8
	LDA #8
	STA BUFFER
	LDA #30
	STA BUFFER+1
	REP #PROC_FLAGS::ACCUM8
	END_C_FUNCTION
