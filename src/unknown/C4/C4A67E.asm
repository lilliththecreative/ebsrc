
UNKNOWN_C4A67E:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT8
	STACK_RESERVE_INT16
	STACK_RESERVE_PARAM_INT16
	STACK_RESERVE_PARAM_INT16
	END_STACK_VARS
	@OPTIONS := @VIRTUAL02
	STX @OPTIONS
	STA @VIRTUAL04
	LDA @OPTIONS
	AND #$0002
	BEQ @UNKNOWN0
	SEP #PROC_FLAGS::ACCUM8
	LDA #1
	STA SWIRL_INVERT_ENABLED
	BRA @UNKNOWN1
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8
	STZ SWIRL_INVERT_ENABLED
@UNKNOWN1:
	REP #PROC_FLAGS::ACCUM8
	LDA @OPTIONS
	AND #$0001
	BEQ @UNKNOWN2
	SEP #PROC_FLAGS::ACCUM8
	LDA #1
	STA SWIRL_REVERSED
	BRA @UNKNOWN3
@UNKNOWN2:
	SEP #PROC_FLAGS::ACCUM8
	STZ SWIRL_REVERSED
@UNKNOWN3:
	REP #PROC_FLAGS::ACCUM8
	LDA @OPTIONS
	AND #$0004
	BEQ @UNKNOWN4
	SEP #PROC_FLAGS::ACCUM8
	LDA #32
	STA SWIRL_MASK_SETTINGS
	BRA @UNKNOWN5
@UNKNOWN4:
	SEP #PROC_FLAGS::ACCUM8
	LDA #31
	STA SWIRL_MASK_SETTINGS
@UNKNOWN5:
	LDA #1
	STA FRAMES_UNTIL_NEXT_SWIRL_UPDATE
	REP #PROC_FLAGS::ACCUM8
	LOADPTR SWIRL_PRIMARY_TABLE, @VIRTUAL06
	LDA @VIRTUAL04
	ASL
	ASL
	STA @LOCAL01
	MOVE_INTX @VIRTUAL06, @VIRTUAL0A
	CLC
	ADC @VIRTUAL0A
	STA @VIRTUAL0A
	SEP #PROC_FLAGS::ACCUM8
	LDA [@VIRTUAL0A]
	STA FRAMES_UNTIL_NEXT_SWIRL_FRAME
	LDY #.LOWORD(SWIRL_FRAMES_LEFT)
	REP #PROC_FLAGS::ACCUM8
	LDA @LOCAL01
	INC
	INC
	MOVE_INTX @VIRTUAL06, @VIRTUAL0A
	CLC
	ADC @VIRTUAL0A
	STA @VIRTUAL0A
	SEP #PROC_FLAGS::ACCUM8
	LDA [@VIRTUAL0A]
	STA __BSS_START__,Y
	LDX #.LOWORD(SWIRL_HDMA_TABLE_ID)
	REP #PROC_FLAGS::ACCUM8
	LDA @LOCAL01
	INC
	CLC
	ADC @VIRTUAL06
	STA @VIRTUAL06
	SEP #PROC_FLAGS::ACCUM8
	LDA [@VIRTUAL06]
	STA @LOCAL00
	STA __BSS_START__,X
	REP #PROC_FLAGS::ACCUM8
	LDA SWIRL_REVERSED
	AND #$00FF
	BEQ @UNKNOWN6
	SEP #PROC_FLAGS::ACCUM8
	LDA __BSS_START__,Y
	STA @VIRTUAL00
	LDA @LOCAL00
	CLC
	ADC @VIRTUAL00
	STA __BSS_START__,X
@UNKNOWN6:
	LDY #.LOWORD(LOADED_OVAL_WINDOW)
	REP #PROC_FLAGS::ACCUM8
	MOVE_INT_CONSTANT NULL, @VIRTUAL06
	MOVE_INT_YPTRDEST @VIRTUAL06, __BSS_START__
	LDA @VIRTUAL04
	BNE @UNKNOWN7
	LOADPTR UNKNOWN_C4A5CE, @VIRTUAL06
	MOVE_INT_YPTRDEST @VIRTUAL06, __BSS_START__
@UNKNOWN7:
	SEP #PROC_FLAGS::ACCUM8
	STZ SWIRL_HDMA_CHANNEL_OFFSET
	STZ SWIRL_LENGTH_PADDING
	LDA #1
	STA SWIRL_AUTO_RESTORE
	REP #PROC_FLAGS::ACCUM8
	LDA @OPTIONS
	AND #$0080
	BEQ @UNKNOWN8
	LDA @VIRTUAL04
	SEP #PROC_FLAGS::ACCUM8
	STA SWIRL_NEXT_SWIRL
	LDA #4
	STA FRAMES_UNTIL_NEXT_SWIRL_FRAME
	STZ SWIRL_REPEAT_SPEED
	LDA #8
	STA SWIRL_REPEATS_UNTIL_SPEED_UP
	BRA @UNKNOWN9
@UNKNOWN8:
	SEP #PROC_FLAGS::ACCUM8
	STZ SWIRL_NEXT_SWIRL
@UNKNOWN9:
	JSL UNKNOWN_C0B0AA
	END_C_FUNCTION
