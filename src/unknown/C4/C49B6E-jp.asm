
UNKNOWN_C49B6E:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_PARAM_INT16 ;unused
	END_STACK_VARS

	LDY #$01A0
	LDA FLYOVER_SCREEN_OFFSET
	JSL MULT16
	STA @LOCAL02
	CLC
	ADC #$04E0
	CMP #$3400
	BCS @UNKNOWN1
	JMP @UNKNOWN3
@UNKNOWN1:
	LDA @LOCAL02
	STA @VIRTUAL02
	LDA #$3400
	SEC
	SBC @VIRTUAL02
	STA @LOCAL01
	BEQ @UNKNOWN2
	PROMOTENEARPTR VWF_BUFFER, @VIRTUAL06
	REP #PROC_FLAGS::ACCUM8
	MOVE_INT @VIRTUAL06, @LOCAL00
	LDA FLYOVER_SCREEN_OFFSET
	LDY #208
	JSL MULT168
	CLC
	ADC #VRAM::TEXT_LAYER_TILES + $80
	TAY
	LDA @LOCAL01
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA #0
	JSL PREPARE_VRAM_COPY
@UNKNOWN2:
	LDY #$01A0
	LDA FLYOVER_SCREEN_OFFSET
	JSL MULT16
	.A16
	STA @LOCAL02
	CLC
	ADC #$04E0
	SEC
	SBC #$3400
	TAX
	BEQ @UNKNOWN4
	LDA @LOCAL02
	STA @VIRTUAL02
	LDA #VRAM::TEXT_LAYER_TILES + $D18 ;an upper limit on tile size
	SEC
	SBC @VIRTUAL02
	PROMOTENEARPTRA @VIRTUAL06
	REP #PROC_FLAGS::ACCUM8
	MOVE_INT @VIRTUAL06, @LOCAL00
	LDY #VRAM::TEXT_LAYER_TILES + $80
	SEP #PROC_FLAGS::ACCUM8
	LDA #0
	JSL PREPARE_VRAM_COPY
	BRA @UNKNOWN4
@UNKNOWN3:
	.A16
	PROMOTENEARPTR VWF_BUFFER, @VIRTUAL06
	REP #PROC_FLAGS::ACCUM8
	MOVE_INT @VIRTUAL06, @LOCAL00
	LDA FLYOVER_SCREEN_OFFSET
	LDY #208
	JSL MULT168
	CLC
	ADC #VRAM::TEXT_LAYER_TILES + $80
	TAY
	LDX #$04E0
	SEP #PROC_FLAGS::ACCUM8
	LDA #0
	JSL PREPARE_VRAM_COPY
@UNKNOWN4:
	.A16
	LDA #.LOWORD(-1)
	STA UNKNOWN_7E3C1E
	STZ UNKNOWN_7E3C20
	JSL WAIT_UNTIL_NEXT_FRAME
	END_C_FUNCTION
