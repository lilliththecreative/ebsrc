
UNKNOWN_C4C91A: ;$C4C91A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE 34
	STX $02
	STX $20
	STA $04
	STA $1E
	LDA $02
	BEQL @UNKNOWN15
	LDA $02
	CMP #$0001
	BEQL @UNKNOWN15
	LDA $02
	CMP #$0006
	BEQL @UNKNOWN15
	LDA $04
	ASL
	TAX
	LDA ENTITY_TILE_HEIGHTS,X
	BEQL @UNKNOWN15
<<<<<<< HEAD
	LDA ENTITY_FADE_ENTITY
	CMP #.LOWORD(-1)
=======
	LDA UNKNOWN_7EB4A8
	CMP #$FFFF
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	BNE @UNKNOWN4
	JSR UNKNOWN_C4C8A4
	STZ NEW_ENTITY_VAR3
	STZ NEW_ENTITY_VAR2
	STZ NEW_ENTITY_VAR1
	STZ NEW_ENTITY_VAR0
	LDY #$0000
	TYX
	LDA #EVENT_SCRIPT::EVENT_859
	JSL INIT_ENTITY_WIPE
	STA ENTITY_FADE_ENTITY
@UNKNOWN4:
<<<<<<< HEAD
	MOVE_INT ENTITY_FADE_STATES, @VIRTUAL06
	LDA ENTITY_FADE_STATES_LENGTH
	OPTIMIZED_MULT @VIRTUAL04, 20
=======
	MOVE_INT UNKNOWN_7EB4AA, $06
	LDA UNKNOWN_7EB4A6
	OPTIMIZED_MULT $04, 20
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	CLC
	ADC $06
	STA $06
	STA $1A
	LDA $08
	STA $1C
	LDA $1E
	STA $04
	LDY #$0000
	STA [$1A],Y
	LDA $04
	ASL
	TAY
	STY $18
	TYA
	CLC
	ADC #.LOWORD(ENTITY_SPRITEMAP_POINTER_HIGH)
	TAX
	LDA __BSS_START__,X
	ORA #$4000
	STA __BSS_START__,X
	LDA $02
	LDY #$0002
	STA [$1A],Y
	LDY $18
	LDA ENTITY_SIZES,Y
	STA $16
	MOVE_INT $1A, $0A
	LDA #$0006
	CLC
	ADC $0A
	STA $0A
	LDA $16
	ASL
	TAX
	LDA f:UNKNOWN_C42A63,X
	STA [$0A]
	LDA ENTITY_TILE_HEIGHTS,Y
	ASL
	ASL
	ASL
	STA $16
	LDY #$0008
	STA [$1A],Y
	MOVE_INT $1A, $06
	LDA #$000E
	CLC
	ADC $06
	STA $06
	STA $12
	LDA $08
	STA $14
	LDA $16
	TAY
	LDA [$0A]
	JSL MULT16
	LSR
	STA $16
	STA [$06]
	MOVE_INT $1A, $0A
	LDA #$000A
	CLC
	ADC $0A
	STA $0A
	LDA $16
	ASL
	JSR UNKNOWN_C4C8DB
	STA $18
	STA [$0A]
	LDA [$06]
	ASL
	TAX
	LDA $18
	JSR UNKNOWN_C4C8E9
	MOVE_INT $1A, $06
	LDA #$000C
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	MOVE_INT $12, $06
	LDA [$06]
	STA $02
	LDA [$0A]
	CLC
	ADC $02
	STA [$0E]
	LDA #$0000
	LDY #$0012
	STA [$1A],Y
	LDY #$0010
	STA [$1A],Y
	LDA $20
	STA $02
	CMP #$0002
	BEQ @UNKNOWN5
	LDA $02
	CMP #$0003
	BEQ @UNKNOWN5
	LDA $02
	CMP #$0004
	BEQ @UNKNOWN5
	LDA $02
	CMP #$0005
	BNE @UNKNOWN6
@UNKNOWN5:
	LDY #$000A
	LDA [$1A],Y
	STA $16
	BRA @UNKNOWN7
@UNKNOWN6:
	LDA [$0E]
	STA $16
@UNKNOWN7:
	LDA $04
	CMP #$0018
	BCC @UNKNOWN8
	LDY #$000E
	LDA [$1A],Y
	TAY
	LDA $16
	TAX
	LDA $04
	JSL UNKNOWN_C4283F
	BRA @UNKNOWN9
@UNKNOWN8:
	LDY #$000E
	LDA [$1A],Y
	TAY
	LDA $16
	TAX
	LDA $04
	JSL UNKNOWN_C42884
@UNKNOWN9:
<<<<<<< HEAD
	LDA ENTITY_FADE_ENTITY
	STA @LOCAL02
	LDA @VIRTUAL02
	CMP #2
=======
	LDA UNKNOWN_7EB4A8
	STA $16
	LDA $02
	CMP #$0002
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	BEQ @UNKNOWN10
	CMP #$0007
	BEQ @UNKNOWN10
	CMP #$0003
	BEQ @UNKNOWN11
	CMP #$0008
	BEQ @UNKNOWN11
	CMP #$0004
	BEQ @UNKNOWN12
	CMP #$0009
	BEQ @UNKNOWN12
	CMP #$0005
	BEQ @UNKNOWN13
	CMP #$000A
	BEQ @UNKNOWN13
	BRA @UNKNOWN14
@UNKNOWN10:
	LDA $16
	ASL
	TAX
	LDA #$0001
	STA ENTITY_SCRIPT_VAR0_TABLE,X
	LDY #$0004
	STA [$1A],Y
	BRA @UNKNOWN14
@UNKNOWN11:
	LDA $16
	ASL
	TAX
	LDA #$0001
	STA ENTITY_SCRIPT_VAR1_TABLE,X
	LDA #$0002
	LDY #$0004
	STA [$1A],Y
	BRA @UNKNOWN14
@UNKNOWN12:
	LDA $16
	ASL
	TAX
	LDA #$0001
	STA ENTITY_SCRIPT_VAR2_TABLE,X
	LDA #$0003
	LDY #$0004
	STA [$1A],Y
	BRA @UNKNOWN14
@UNKNOWN13:
	LDA $16
	ASL
	TAX
	LDA #$0001
	STA ENTITY_SCRIPT_VAR3_TABLE,X
	LDA #$0004
	TAY
	STA [$1A],Y
@UNKNOWN14:
	LDA $16
	ASL
	TAX
	LDA ENTITY_SCRIPT_VAR0_TABLE,X
	CLC
	ADC ENTITY_SCRIPT_VAR1_TABLE,X
	CLC
	ADC ENTITY_SCRIPT_VAR2_TABLE,X
	CLC
	ADC ENTITY_SCRIPT_VAR3_TABLE,X
	STA ENTITY_SCRIPT_VAR4_TABLE,X
	INC ENTITY_FADE_STATES_LENGTH
@UNKNOWN15:
	PLD
	RTL
