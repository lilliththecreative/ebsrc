
UNKNOWN_C4D744:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	END_STACK_VARS
	LDX #0
	STX @LOCAL01
	TXY
	STY @LOCAL00
	LDA #60
	STA TOWN_MAP_ANIMATION_FRAME
	LDA #20
	STA TOWN_MAP_PLAYER_ICON_ANIMATION_FRAME
	LDA #12
	STA FRAMES_UNTIL_MAP_ICON_PALETTE_UPDATE
	TXA
	JSR LOAD_TOWN_MAP_DATA
@UNKNOWN0:
	JSL WAIT_UNTIL_NEXT_FRAME
	JSL OAM_CLEAR
	LDA PAD_PRESS
	AND #PAD::UP
	BEQ @UNKNOWN1
	LDX @LOCAL01
	DEX
	STX @LOCAL01
@UNKNOWN1:
	LDA PAD_PRESS
	AND #PAD::DOWN
	BEQ @UNKNOWN2
	LDX @LOCAL01
	INX
	STX @LOCAL01
@UNKNOWN2:
	LDX @LOCAL01
	CPX #.LOWORD(-1)
	BNE @UNKNOWN3
	LDX #5
	STX @LOCAL01
@UNKNOWN3:
	CPX #6
	BNE @UNKNOWN4
	LDX #0
	STX @LOCAL01
@UNKNOWN4:
	STX @VIRTUAL02
	LDY @LOCAL00
	TYA
	CMP @VIRTUAL02
	BEQ @UNKNOWN5
	TXA
	JSR LOAD_TOWN_MAP_DATA
	LDX @LOCAL01
	TXY
	STY @LOCAL00
@UNKNOWN5:
	TXA
	JSR UNKNOWN_C4D43F
	LDA PAD_PRESS
	AND #PAD::A_BUTTON
	BNE @UNKNOWN6
	JSL UPDATE_SCREEN
	BRA @UNKNOWN0
@UNKNOWN6:
	JSL UNDRAW_FLYOVER_TEXT
	JSL RELOAD_MAP
	SEP #PROC_FLAGS::ACCUM8
	LDA #$17
	STA TM_MIRROR
	REP #PROC_FLAGS::ACCUM8
	END_C_FUNCTION
