
UNKNOWN_C4F46F:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	STACK_RESERVE_PARAM_INT16
	END_STACK_VARS
	STA @LOCAL08
	LOADPTR PHOTOGRAPHER_CFG_TABLE, @VIRTUAL06
	LDA @LOCAL08
	LDY #.SIZEOF(photographer_config_entry)
	JSL MULT168
	CLC
	ADC @VIRTUAL06
	STA @VIRTUAL06
	STA @LOCAL07
	LDA @VIRTUAL06+2
	STA @LOCAL07+2
	LDX #256
	SEP #PROC_FLAGS::ACCUM8
	LDY #photographer_config_entry::slide_direction
	LDA [@VIRTUAL06],Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	LDY #1024
	JSL MULT16
	JSL UNKNOWN_C41FFF
	MOVE_INT @VIRTUAL06, @VIRTUAL0A
	MOVE_INT @VIRTUAL0A, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL00
	MOVE_INT @LOCAL07, @VIRTUAL06
	SEP #PROC_FLAGS::ACCUM8
	LDY #photographer_config_entry::slide_distance
	LDA [@VIRTUAL06],Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	XBA
	AND #$FF00
	LDY #256
	JSL DIVISION16
	STA @LOCAL08
	LDA @LOCAL00+2
	STA @LOCAL06
	LDA @LOCAL00
	STA @LOCAL05
	LDA BG1_X_POS
	STA @LOCAL04
	LDA BG1_Y_POS
	STA @LOCAL03
	LDA #0
	STA @VIRTUAL04
	STA @VIRTUAL02
	TAY
	STY @LOCAL02
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA @VIRTUAL02
	CLC
	ADC @LOCAL06
	STA @VIRTUAL02
	LDA @VIRTUAL04
	CLC
	ADC @LOCAL05
	STA @VIRTUAL04
	LDY #256
	LDA @VIRTUAL02
	JSL DIVISION16
	TAX
	CLC
	ADC @LOCAL04
	STA BG1_X_POS
	LDY #256
	LDA @VIRTUAL04
	JSL DIVISION16
	STA @LOCAL01
	CLC
	ADC @LOCAL03
	STA BG1_Y_POS
	STX BG2_X_POS
	LDA @LOCAL01
	STA BG2_Y_POS
	JSL UNKNOWN_C4F01D
	JSL UNKNOWN_C1004E
	LDY @LOCAL02
	INY
	STY @LOCAL02
@UNKNOWN1:
	CPY @LOCAL08
	BCC @UNKNOWN0
	END_C_FUNCTION
