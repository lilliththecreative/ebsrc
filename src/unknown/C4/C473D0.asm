
UNKNOWN_C473D0:
	BEGIN_C_FUNCTION
	STACK_RESERVE_VARS
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_PARAM_INT16
	STACK_RESERVE_PARAM_INT16
	END_STACK_VARS
	STX @LOCAL06
	ASL
	ASL
	ASL
	ASL
	ASL
	STA @LOCAL05
	CLC
	ADC #.LOWORD(MAP_PALETTE_BACKUP)
	STA @LOCAL04
	LDA @LOCAL05
	CLC
	ADC #.LOWORD(PALETTES) + BPP4PALETTE_SIZE * 2
	STA @LOCAL05
	LDA #0
	STA @VIRTUAL04
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA (@LOCAL04)
	TAY
	AND #$001F
	CLC
	ADC @LOCAL06
	STA @LOCAL03
	TYA
	LSR
	LSR
	LSR
	LSR
	LSR
	AND #$001F
	CLC
	ADC @LOCAL06
	TAX
	STX @LOCAL02
	TYA
	XBA
	AND #$00FF
	LSR
	LSR
	AND #$001F
	CLC
	ADC @LOCAL06
	TAY
	STY @LOCAL01
	LDA @LOCAL03
	JSR UNKNOWN_C473B2
	STA @VIRTUAL02
	STA @LOCAL00
	LDX @LOCAL02
	TXA
	JSR UNKNOWN_C473B2
	TAX
	STX @LOCAL02
	LDY @LOCAL01
	TYA
	JSR UNKNOWN_C473B2
	STA @LOCAL01
	INC @LOCAL04
	INC @LOCAL04
	LDX @LOCAL02
	TXA
	ASL
	ASL
	ASL
	ASL
	ASL
	STA @VIRTUAL02
	LDA @LOCAL01
	XBA
	AND #$FF00
	ASL
	ASL
	ORA @VIRTUAL02
	LDX @LOCAL00
	STX @VIRTUAL02
	ORA @VIRTUAL02
	STA (@LOCAL05)
	INC @LOCAL05
	INC @LOCAL05
	INC @VIRTUAL04
@UNKNOWN1:
	LDA @VIRTUAL04
	CMP #16
	BCC @UNKNOWN0
	END_C_FUNCTION
