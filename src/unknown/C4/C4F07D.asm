
;Loads graphics for the staff credits, but what else?
UNKNOWN_C4F07D:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_INT32
	END_STACK_VARS
	LOADPTR BUFFER, @VIRTUAL06
	JSL UNKNOWN_C08726
	JSL UNKNOWN_C021E6
	STZ CREDITS_CURRENT_ROW
	STZ CREDITS_DMA_QUEUE_START
	STZ CREDITS_DMA_QUEUE_END
	LDY #VRAM::CREDITS_LAYER_1_TILES
	LDX #VRAM::CREDITS_LAYER_1_TILEMAP
	LDA #BG_TILEMAP_SIZE::HORIZONTAL
	JSL SET_BG1_VRAM_LOCATION
	LDY #VRAM::CREDITS_LAYER_2_TILES
	LDX #VRAM::CREDITS_LAYER_2_TILEMAP
	LDA #BG_TILEMAP_SIZE::BOTH
	JSL SET_BG2_VRAM_LOCATION
	LDY #VRAM::CREDITS_LAYER_3_TILES
	LDX #VRAM::CREDITS_LAYER_3_TILEMAP
	LDA #BG_TILEMAP_SIZE::NORMAL
	JSL SET_BG3_VRAM_LOCATION
	LDA #$62
	JSL SET_OAM_SIZE
	STZ BG3_X_POS
	STZ BG3_Y_POS
	STZ BG2_Y_POS
	STZ BG2_X_POS
	STZ BG1_Y_POS
	STZ BG1_X_POS
	JSL UPDATE_SCREEN
	LDA #0
	STA [@VIRTUAL06]
	COPY_TO_VRAM1P @VIRTUAL06, VRAM::CREDITS_LAYER_1_TILEMAP, 4096, 3
	LDA #$240C
	STA [@VIRTUAL06]
	COPY_TO_VRAM1P @VIRTUAL06, VRAM::CREDITS_LAYER_2_TILEMAP, 4096, 9
	COPY_TO_VRAM1 BUFFER+1, VRAM::CREDITS_LAYER_2_TILEMAP, 4096, 15
	LOADPTR UNKNOWN_E1E94A, @LOCAL00
	MOVE_INT @VIRTUAL06, @LOCAL01
	JSL DECOMP
	LDA #.LOWORD(PALETTES) + BPP4PALETTE_SIZE * 1
	STA @VIRTUAL02
	LOADPTR UNKNOWN_E1E924+6, @LOCAL00
	LDX #BPP4PALETTE_SIZE * 1
	LDA @VIRTUAL02
	JSL MEMCPY16
	COPY_TO_VRAM1P @VIRTUAL06, VRAM::CREDITS_LAYER_2_TILEMAP, 1792, 0
	COPY_TO_VRAM1 BUFFER + $700, VRAM::CREDITS_LAYER_2_TILES, 8192, 0
	LDA #0
	STA [@VIRTUAL06]
	COPY_TO_VRAM1P @VIRTUAL06, VRAM::CREDITS_LAYER_3_TILEMAP, 2048, 3
	LOADPTR STAFF_CREDITS_FONT_GRAPHICS, @LOCAL00
	MOVE_INT @VIRTUAL06, @LOCAL01
	JSL DECOMP
	COPY_TO_VRAM1P @VIRTUAL06, VRAM::CREDITS_LAYER_3_TILES + $200, STAFF_CREDITS_FONT_GFX_SIZE, 0
	LOADPTR STAFF_CREDITS_FONT_PALETTE, @LOCAL00
	LDX #BPP2PALETTE_SIZE * 2
	LDA #.LOWORD(PALETTES)
	JSL MEMCPY16
	LOADPTR SPRITE_GROUP_PALETTES, @LOCAL00
	LDX #BPP4PALETTE_SIZE * 8
	LDA #.LOWORD(PALETTES) + BPP4PALETTE_SIZE * 8
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	STZ_BADOPT @LOCAL00
	LDX #BPP4PALETTE_SIZE * 15
	REP #PROC_FLAGS::ACCUM8
	LDA @VIRTUAL02
	JSL MEMSET16
	SEP #PROC_FLAGS::ACCUM8
	LDA #PALETTE_UPLOAD::FULL
	STA PALETTE_UPLOAD_MODE
	LDA #$17
	STA TM_MIRROR
	REP #PROC_FLAGS::ACCUM8
	STZ CREDITS_NEXT_CREDIT_POSITION
	MOVE_INT_CONSTANT NULL, CREDITS_SCROLL_POSITION
	LDA #7
	STA CREDITS_ROW_WIPE_THRESHOLD
	PROMOTENEARPTR BG2_BUFFER, @VIRTUAL06
	LDX #0
	BRA @UNKNOWN1
@UNKNOWN0:
	REP #PROC_FLAGS::ACCUM8
	LDA #0
	STA [@VIRTUAL06]
	INC @VIRTUAL06
	INC @VIRTUAL06
	INX
@UNKNOWN1:
	CPX #512
	BCC @UNKNOWN0
	REP #PROC_FLAGS::ACCUM8
	MOVE_INT_CONSTANT STAFF_TEXT, CREDITS_SCRIPT_DATA
	JSL UNKNOWN_C08744
	END_C_FUNCTION
