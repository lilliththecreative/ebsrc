
UNKNOWN_C49A56:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	END_STACK_VARS
	LOADPTR BUFFER, @VIRTUAL06
	JSL UNKNOWN_C08726
	LDY #VRAM::TEXT_LAYER_TILES
	LDX #VRAM::TEXT_LAYER_TILEMAP
	LDA #BG_TILEMAP_SIZE::NORMAL
	JSL SET_BG3_VRAM_LOCATION
	LDA #0
	STA [@VIRTUAL06]
	COPY_TO_VRAM1P @VIRTUAL06, VRAM::TEXT_LAYER_TILES, $3800, 3
	.A16
	LOADPTR MOVEMENT_TEXT_STRING_PALETTE, @LOCAL00
	LDX #8
	LDA #.LOWORD(PALETTES)
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	LDA #PALETTE_UPLOAD::FULL
	STA PALETTE_UPLOAD_MODE
	STZ_BADOPT @LOCAL00
	LDX #32 * 52
	REP #PROC_FLAGS::ACCUM8
	LDA #.LOWORD(VWF_BUFFER)
	JSL MEMSET16
	LDY #16
	LDX #0
	STX @LOCAL02
	BRA @UNKNOWN3
@UNKNOWN0:
	TXA
	ASL
	ASL
	ASL
	ASL
	ASL
	ASL
	TAX
	STZ BG2_BUFFER,X
	TAX
	STZ BG2_BUFFER + 2,X
	TAX
	STZ BG2_BUFFER + 4,X
	LDA #3
	STA @LOCAL01
	BRA @UNKNOWN2
@UNKNOWN1:
	ASL
	STA @VIRTUAL02
	LDX @LOCAL02
	TXA
	ASL
	ASL
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC @VIRTUAL02
	TAX
	TYA
	CLC
	ADC #$2000
	STA BG2_BUFFER,X
	INY
	LDA @LOCAL01
	INC
	STA @LOCAL01
@UNKNOWN2:
	CMP #29
	BCC @UNKNOWN1
	LDX @LOCAL02
	TXA
	ASL
	ASL
	ASL
	ASL
	ASL
	ASL
	TAX
	STZ BG2_BUFFER + 58,X
	TAX
	STZ BG2_BUFFER + 60,X
	TAX
	STZ BG2_BUFFER + 62,X
	LDX @LOCAL02
	INX
	STX @LOCAL02
@UNKNOWN3:
	CPX #32
	BCC @UNKNOWN0
	PROMOTENEARPTR BG2_BUFFER, @VIRTUAL06
	REP #PROC_FLAGS::ACCUM8
	COPY_TO_VRAM1P @VIRTUAL06, VRAM::TEXT_LAYER_TILEMAP, $800, 0
	.A16
	LDA #26
	STA UNKNOWN_7E3C18
	STZ UNKNOWN_7E3C1C
	LDA #.LOWORD(-1)
	STA UNKNOWN_7E3C1E
	STZ UNKNOWN_7E3C20
	STZ UNKNOWN_7E3C14
	STZ UNKNOWN_7E3C16
	JSL UNKNOWN_C08744
	END_C_FUNCTION
