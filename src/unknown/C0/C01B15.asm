
UNKNOWN_C01B15:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_PARAM_INT16
	END_STACK_VARS
	CMP #.LOWORD(OVERWORLD_SPRITEMAPS)
	BCC @UNKNOWN3
	CMP #.LOWORD(OVERWORLD_SPRITEMAPS) + 179 * .SIZEOF(spritemap) + 1
	BGT @UNKNOWN3
	SEC
	SBC #.LOWORD(OVERWORLD_SPRITEMAPS)
	STA @LOCAL01
	LDA #0
	STA @VIRTUAL02
	BRA @UNKNOWN2
@UNKNOWN1:
	LDA @LOCAL01
	CLC
	ADC #.LOWORD(OVERWORLD_SPRITEMAPS + spritemap::special_flags)
	TAX
	STX @LOCAL00
	LDA __BSS_START__,X
	AND #$00FF
	TAY
	LDA @LOCAL01
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA #>-1
	STA OVERWORLD_SPRITEMAPS + spritemap::y_offset,X
	REP #PROC_FLAGS::ACCUM8
	LDA @LOCAL01
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA #>-1
	STA OVERWORLD_SPRITEMAPS + spritemap::tile,X
	REP #PROC_FLAGS::ACCUM8
	LDA @LOCAL01
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA #>-1
	STA OVERWORLD_SPRITEMAPS + spritemap::flags,X
	REP #PROC_FLAGS::ACCUM8
	LDA @LOCAL01
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA #>-1
	STA OVERWORLD_SPRITEMAPS + spritemap::x_offset,X
	LDX @LOCAL00 ;address was precalculated because it was also being read from
	STA __BSS_START__,X
	REP #PROC_FLAGS::ACCUM8
	LDA @LOCAL01
	CLC
	ADC #.SIZEOF(spritemap)
	STA @LOCAL01
	TYA
	AND #128
	BEQ @UNKNOWN1
	INC @VIRTUAL02
@UNKNOWN2:
	LDA @VIRTUAL02
	CMP #2
	BCC @UNKNOWN1
@UNKNOWN3:
	END_C_FUNCTION
