
UNKNOWN_C006F2:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_PARAM_INT16
	END_STACK_VARS
	STA @LOCAL01
	LOADPTR EVENT_CONTROL_PTR_TABLE & $FF0000, @VIRTUAL06
	LDA @LOCAL01
	ASL
	TAX
	LDA f:EVENT_CONTROL_PTR_TABLE,X
	CLC
	ADC @VIRTUAL06
	STA @VIRTUAL06
@UNKNOWN0:
	LDA [@VIRTUAL06] ;map_tile_event::event_flag
	BEQ @UNKNOWN5
	AND #$7FFF
	JSL GET_EVENT_FLAG
	STA @LOCAL00
	LDY #map_tile_event::count
	LDA [@VIRTUAL06],Y
	TAY
	STY @LOCAL01
	LDX #0
	LDA [@VIRTUAL06]
	CMP #$8000
	BCC @UNKNOWN1
	LDX #1
@UNKNOWN1:
	STX @VIRTUAL02
	LDA @LOCAL00
	CMP @VIRTUAL02
	BNE @UNKNOWN4
	LDA #map_tile_event::block_pairs
	CLC
	ADC @VIRTUAL06
	STA @VIRTUAL06
	BRA @UNKNOWN3
@UNKNOWN2:
	LDY #map_tile_event::count
	LDA [@VIRTUAL06],Y
	TAX
	LDA [@VIRTUAL06]
	JSR UNKNOWN_C0067E
	LDA #map_tile_event::block_pairs
	CLC
	ADC @VIRTUAL06
	STA @VIRTUAL06
	LDY @LOCAL01
	DEY
	STY @LOCAL01
@UNKNOWN3:
	CPY #0
	BNE @UNKNOWN2
	BRA @UNKNOWN0
@UNKNOWN4:
	TYA
	OPTIMIZED_MULT @VIRTUAL04, 4
	OPTIMIZED_ADD 4
	CLC
	ADC @VIRTUAL06
	STA @VIRTUAL06
	BRA @UNKNOWN0
@UNKNOWN5:
	END_C_FUNCTION
