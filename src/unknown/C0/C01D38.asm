
UNKNOWN_C01D38:
	BEGIN_C_FUNCTION
	STACK_RESERVE_VARS
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_PARAM_INT16
	STACK_RESERVE_PARAM_INT16
	STACK_RESERVE_PARAM_INT16
	STACK_RESERVE_PARAM_INT32
	END_STACK_VARS
	STY @LOCAL05
	STX @VIRTUAL04
	TAX
	MOVE_INT @PARAM03, @VIRTUAL06
	LDA [@VIRTUAL06]
	AND #$00FF
	STA @VIRTUAL02
	STA @LOCAL04
	INC @VIRTUAL06
	INC @VIRTUAL06
	LDY #0
	STY @LOCAL03
	JMP @UNKNOWN3
@UNKNOWN0:
	LDA #0
	STA @LOCAL02
	BRA @UNKNOWN2
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA [@VIRTUAL06]
	STA OVERWORLD_SPRITEMAPS + spritemap::y_offset,X
	INX ;spritemap::tile
	STX @LOCAL01
	REP #PROC_FLAGS::ACCUM8
	LDA @LOCAL02
	STA @VIRTUAL02
	LDA @VIRTUAL04
	CLC
	ADC @VIRTUAL02
	ASL
	TAX
	LDA f:UNKNOWN_C4303C,X
	STA @LOCAL00
	SEP #PROC_FLAGS::ACCUM8
	LDX @LOCAL01
	STA OVERWORLD_SPRITEMAPS,X
	INX ;spritemap::flags
	REP #PROC_FLAGS::ACCUM8
	LDA @LOCAL00
	XBA
	AND #$00FF
	SEP #PROC_FLAGS::ACCUM8
	STA @VIRTUAL00
	REP #PROC_FLAGS::ACCUM8
	LDA @LOCAL05
	SEP #PROC_FLAGS::ACCUM8
	STA @VIRTUAL01
	LDY #spritemap::flags
	LDA [@VIRTUAL06],Y
	AND #$00FE
	ORA @VIRTUAL01
	ORA @VIRTUAL00
	STA OVERWORLD_SPRITEMAPS,X
	INX ;spritemap::x_offset
	LDY #spritemap::x_offset
	LDA [@VIRTUAL06],Y
	STA OVERWORLD_SPRITEMAPS,X
	INX ;spritemap::special_flags
	LDY #spritemap::special_flags
	LDA [@VIRTUAL06],Y
	STA OVERWORLD_SPRITEMAPS,X
	INX ;next spritemap::y_offset
	REP #PROC_FLAGS::ACCUM8
	LDA #.SIZEOF(spritemap)
	CLC
	ADC @VIRTUAL06
	STA @VIRTUAL06
	LDA @LOCAL02
	INC
	STA @LOCAL02
@UNKNOWN2:
	LDY @LOCAL04
	STY @VIRTUAL02
	CMP @VIRTUAL02
	BCC @UNKNOWN1
	LDY @LOCAL03
	INY
	STY @LOCAL03
@UNKNOWN3:
	CPY #2
	BCCL @UNKNOWN0
	END_C_FUNCTION
