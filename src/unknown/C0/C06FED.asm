
UNKNOWN_C06FED:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	END_STACK_VARS
	LDA #0
	STA @LOCAL01
	LDA STAIRS_DIRECTION
	BEQ @UNKNOWN0
	LDA STAIRS_DIRECTION
	CMP #256
	BNE @UNKNOWN1
@UNKNOWN0:
	LDA GAME_STATE + game_state::leader_y_coord
	CMP STAIRS_NEW_Y
	BCS @UNKNOWN2
	LDA #1
	STA @LOCAL01
	BRA @UNKNOWN2
@UNKNOWN1:
	LDA GAME_STATE + game_state::leader_y_coord
	CMP STAIRS_NEW_Y
	BLTEQ @UNKNOWN2
	LDA #1
	STA @LOCAL01
@UNKNOWN2:
	LDA @LOCAL01
	BEQ @UNKNOWN3
	LDA #.LOWORD(-1)
	STA STAIRS_DIRECTION
	STZ GAME_STATE + game_state::walking_style
	STZ PLAYER_MOVEMENT_FLAGS
	LDA STAIRS_NEW_X
	STA GAME_STATE + game_state::leader_x_coord
	LDA STAIRS_NEW_Y
	STA GAME_STATE + game_state::leader_y_coord
	STZ GAME_STATE + game_state::unknown84
	STZ GAME_STATE + game_state::unknown80
	STZ UNREAD_7E5DBA
	BRA @UNKNOWN4
@UNKNOWN3:
	LOADPTR UNKNOWN_C06FED, @LOCAL00
	LDA #1
	JSL SCHEDULE_OVERWORLD_TASK
@UNKNOWN4:
	END_C_FUNCTION
