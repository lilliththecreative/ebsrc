
UNKNOWN_C0A443: ;$C0A443
	LDX $88
	LDA PLAYER_HAS_MOVED_SINCE_MAP_LOAD
	CLC
	ADC CURRENT_ENTITY_SLOT
	LSR
	LSR
	LSR
	AND #$0001
	STA $00
	LDA ENTITY_DIRECTIONS,X
	ASL
	ORA $00
	STA $02
	LDA ENTITY_WALKING_STYLES,X
	XBA
	ORA $02
	CMP ENTITY_ANIMATION_FINGERPRINTS,X
	BNE @UNKNOWN8
	RTL
@UNKNOWN8:
	STA ENTITY_ANIMATION_FINGERPRINTS,X
	LDA $00
	STA USE_SECOND_SPRITE_FRAME
	BRA UNKNOWN_C0A443_UNKNOWN10
	LDA FRAME_COUNTER
	LSR
	LSR
	LSR
	AND #$0001
	STA USE_SECOND_SPRITE_FRAME
	BRA UNKNOWN_C0A443_UNKNOWN10
UNKNOWN_C0A443_MOVEMENT_ENTRY_3:
	LDY $88
	REP #PROC_FLAGS::ACCUM8
	PHD
	PHA
	TDC
	SEC
	SBC #$0006
	TCD
	PLA
	BRA UNKNOWN_C0A443_UNKNOWN9
UNKNOWN_C0A443_ENTRY2: ;$C0A48F
	REP #PROC_FLAGS::ACCUM8
	PHD
	PHA
	TDC
	SEC
	SBC #$0006
	TCD
	PLA
	ASL
	TAY
UNKNOWN_C0A443_UNKNOWN9:
	LDA ENTITY_ANIMATION_FRAME,Y
	STA USE_SECOND_SPRITE_FRAME
	JSL UNKNOWN_C0A443_ENTRY4
	PLD
	RTL
<<<<<<< HEAD
UNKNOWN_C0A443_ENTRY3:
	STZ USE_SECOND_SPRITE_FRAME
=======
UNKNOWN_C0A443_ENTRY3: ;$C0A4A8
	STZ UNKNOWN_7E2892
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	JSL UNKNOWN_C0C711
	BNE UNKNOWN_C0A443_UNKNOWN10
	RTL
UNKNOWN_C0A443_MOVEMENT_ENTRY_1: ;$C0A4B2
	LDA #$0001
	STA USE_SECOND_SPRITE_FRAME
	JSL UNKNOWN_C0C711
	BNE UNKNOWN_C0A443_UNKNOWN10
	RTL
<<<<<<< HEAD
UNKNOWN_C0A443_MOVEMENT_ENTRY_2:
	STZ USE_SECOND_SPRITE_FRAME
=======
UNKNOWN_C0A443_MOVEMENT_ENTRY_2: ;$C0A4BF
	STZ UNKNOWN_7E2892
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
UNKNOWN_C0A443_UNKNOWN10:
	LDY $88
UNKNOWN_C0A443_ENTRY4:
	STY $08
	LDA ENTITY_TILE_HEIGHTS,Y
	STA $00
	LDA ENTITY_BYTE_WIDTHS,Y
	STA DMA_COPY_SIZE
	LDA ENTITY_VRAM_ADDRESS,Y
	STA DMA_COPY_VRAM_DEST
	LDA ENTITY_GRAPHICS_PTR_HIGH,Y
	STA $04
	LDA ENTITY_GRAPHICS_PTR_LOW,Y
	STA $02
	LDA ENTITY_DIRECTIONS,Y
	ASL
	TAX
	LDA f:SPRITE_DIRECTION_MAPPING_4_DIRECTION,X
	BEQ @UNKNOWN12
	TAX
	LDA $02
	CLC
@UNKNOWN11:
	ADC #$0004
	DEX
	BNE @UNKNOWN11
	STA $02
@UNKNOWN12:
	LDA USE_SECOND_SPRITE_FRAME
	BEQ @UNKNOWN13
	INC $02
	INC $02
@UNKNOWN13:
	LDA [$02]
	AND #$0002
	BNE @UNKNOWN14
	LDA ENTITY_SURFACE_FLAGS,Y
	STA $06
	AND #$0008
	BEQ @UNKNOWN14
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0003
	STA DMA_COPY_MODE
	LDA #.BANKBYTE(UNKNOWN_C40BE8)
	STA DMA_COPY_RAM_SRC + 2
	REP #PROC_FLAGS::ACCUM8
	LDA #.LOWORD(UNKNOWN_C40BE8)
	STA DMA_COPY_RAM_SRC
	JSL UNKNOWN_C0A56E
	DEC $00
	BEQ @UNKNOWN16
	LDA $06
	AND #$0004
	BEQ @UNKNOWN14
	JSL UNKNOWN_C0A56E
	DEC $00
	BEQ @UNKNOWN16
@UNKNOWN14:
	LDY $08
	LDA [$02]
	STA ENTITY_CURRENT_DISPLAYED_SPRITES,Y
	AND #$FFF0
	STA DMA_COPY_RAM_SRC
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA DMA_COPY_MODE
	LDA ENTITY_GRAPHICS_SPRITE_BANK,Y
	STA DMA_COPY_RAM_SRC + 2
	REP #PROC_FLAGS::ACCUM8
@UNKNOWN15:
	JSL UNKNOWN_C0A56E
	DEC $00
	BEQ @UNKNOWN16
	LDA DMA_COPY_RAM_SRC
	CLC
	ADC DMA_COPY_SIZE
	STA DMA_COPY_RAM_SRC
	BRA @UNKNOWN15
@UNKNOWN16:
	RTL
