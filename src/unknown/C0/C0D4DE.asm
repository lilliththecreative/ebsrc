
UNKNOWN_C0D4DE:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	END_STACK_VARS
	LOADPTR BUFFER + $2000, @LOCAL00
	PROMOTENEARPTR PALETTES, @VIRTUAL06
	REP #PROC_FLAGS::ACCUM8
	MOVE_INT @VIRTUAL06, @LOCAL01
	LDA #.LOWORD(PALETTES)
	JSL MEMCPY24
	LDA #0
	STA @VIRTUAL04
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA @VIRTUAL04
	ASL
	CLC
	ADC #.LOWORD(PALETTES)
	TAY
	STY @LOCAL04
	LDA __BSS_START__,Y
	STA @LOCAL03
	AND #$001F
	TAX
	STX @LOCAL02
	LDA @LOCAL03
	LSR
	LSR
	LSR
	LSR
	LSR
	AND #$001F
	STA @VIRTUAL02
	SEP #PROC_FLAGS::ACCUM8
	LDA #10
	SEP #PROC_FLAGS::INDEX8
	TAY
	REP #PROC_FLAGS::ACCUM8
	LDA @LOCAL03
	JSL ASR8_UNKNOWN1
	AND #$001F
	REP #PROC_FLAGS::INDEX8
	LDY #3
	PHA
	LDX @LOCAL02
	TXA
	CLC
	ADC @VIRTUAL02
	PLX
	STX @VIRTUAL02
	CLC
	ADC @VIRTUAL02
	JSL DIVISION16S_DIVISOR_POSITIVE
	STA @LOCAL02
	SEP #PROC_FLAGS::INDEX8
	LDY #10
	JSL ASL16_ENTRY2
	PHA
	LDA @LOCAL02
	ASL
	ASL
	ASL
	ASL
	ASL
	STA @VIRTUAL02
	LDA @LOCAL02
	CLC
	ADC @VIRTUAL02
	REP #PROC_FLAGS::INDEX8
	PLY
	STY @VIRTUAL02
	CLC
	ADC @VIRTUAL02
	LDY @LOCAL04
	STA __BSS_START__,Y
	INC @VIRTUAL04
@UNKNOWN1:
	LDA @VIRTUAL04
	CMP #BPP4PALETTE_SIZE * 4
	BCCL @UNKNOWN0
	LDA #24
	JSL UNKNOWN_C0856B
	END_C_FUNCTION
