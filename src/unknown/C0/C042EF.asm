
UNKNOWN_C042EF:
	BEGIN_C_FUNCTION
	STACK_RESERVE_VARS
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_INT16
	STACK_RESERVE_PARAM_INT16
	END_STACK_VARS
	STA @LOCAL06
	ASL
	TAX
	LDA f:UNKNOWN_C3E148,X
	STA @LOCAL05
	LDA f:UNKNOWN_C3E158,X
	STA @LOCAL04
	LDA GAME_STATE+game_state::leader_x_coord
	CLC
	ADC @LOCAL05
	STA @LOCAL03
	LDA GAME_STATE+game_state::leader_y_coord
	CLC
	ADC @LOCAL04
	STA @VIRTUAL04
	LDA PLAYER_INTANGIBILITY_FRAMES
	STA @LOCAL02
	LDA #1
	STA PLAYER_INTANGIBILITY_FRAMES
@UNKNOWN0:
	LDA #.LOWORD(GAME_STATE) + game_state::current_party_members
	STA @VIRTUAL02
	LDX @VIRTUAL02
	LDA __BSS_START__,X
	TAY
	LDX @VIRTUAL04
	LDA @LOCAL03
	JSL NPC_COLLISION_CHECK
	STA @LOCAL01
	CMP #$8000
	BCS @UNKNOWN1
	ASL
	TAX
	LDA ENTITY_NPC_IDS,X
	STA INTERACTING_NPC_ID
	LDA @LOCAL01
	STA INTERACTING_NPC_ENTITY
	BRA @UNKNOWN7
@UNKNOWN1:
	LDA @LOCAL06
	STA @LOCAL00
	LDX @VIRTUAL02
	LDA __BSS_START__,X
	TAY
	LDX @VIRTUAL04
	LDA @LOCAL03
	JSL UNKNOWN_C05CD7
	AND #$0082
	CMP #130
	BNE @UNKNOWN7
	LDA @LOCAL05
	BEQ @UNKNOWN4
	LDA @LOCAL05
	AND #$8000
	BEQ @UNKNOWN2
	LDX #.LOWORD(-8)
	BRA @UNKNOWN3
@UNKNOWN2:
	LDX #8
@UNKNOWN3:
	TXA
	CLC
	ADC @LOCAL03
	STA @LOCAL03
@UNKNOWN4:
	LDA @LOCAL04
	BEQ @UNKNOWN0
	LDA @LOCAL04
	AND #$8000
	BEQ @UNKNOWN5
	LDX #.LOWORD(-8)
	BRA @UNKNOWN6
@UNKNOWN5:
	LDX #8
@UNKNOWN6:
	STX @VIRTUAL02
	LDA @VIRTUAL04
	CLC
	ADC @VIRTUAL02
	STA @VIRTUAL04
	JMP @UNKNOWN0
@UNKNOWN7:
	LDA @LOCAL02
	STA PLAYER_INTANGIBILITY_FRAMES
	LDA INTERACTING_NPC_ID
	BEQ @UNKNOWN8
	LDA INTERACTING_NPC_ID
	CMP #.LOWORD(-1)
	BNE @UNKNOWN9
@UNKNOWN8:
	LDA @LOCAL06
	JSL UNKNOWN_C065C2
@UNKNOWN9:
	LDA INTERACTING_NPC_ID
	END_C_FUNCTION
