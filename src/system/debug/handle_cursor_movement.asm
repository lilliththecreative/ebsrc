
DEBUG_HANDLE_CURSOR_MOVEMENT:
	BEGIN_C_FUNCTION
	STACK_RESERVE_VARS
	STACK_RESERVE_INT16
	END_STACK_VARS
	LDA PAD_HELD
	STA @LOCAL00
	AND #PAD::UP
	BEQ @UNKNOWN1
	LDA DEBUG_MENU_CURSOR_POSITION
	BEQ @UNKNOWN0
	DEC DEBUG_MENU_CURSOR_POSITION
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA #6
	STA DEBUG_MENU_CURSOR_POSITION
@UNKNOWN1:
	LDA @LOCAL00
	AND #PAD::DOWN
	BEQ @UNKNOWN3
	LDA DEBUG_MENU_CURSOR_POSITION
	CMP #6
	BEQ @UNKNOWN2
	INC DEBUG_MENU_CURSOR_POSITION
	BRA @UNKNOWN3
@UNKNOWN2:
	STZ DEBUG_MENU_CURSOR_POSITION
@UNKNOWN3:
	LDA DEBUG_CURSOR_ENTITY
	ASL
	TAX
	LDA DEBUG_MENU_CURSOR_POSITION
	OPTIMIZED_MULT @VIRTUAL04, 3 * 8
	CLC
	ADC #26 * 2
	STA ENTITY_ABS_Y_TABLE,X
	LDA PAD_PRESS
	AND #PAD::B_BUTTON | PAD::START_BUTTON | PAD::A_BUTTON | PAD::L_BUTTON
	STA DEBUG_MENU_BUTTONS_PRESSED
	END_C_FUNCTION
