
<<<<<<< HEAD
LOAD_WINDOW_GFX:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	STACK_RESERVE_INT32
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	STACK_RESERVE_INT32
	STACK_RESERVE_INT16
	STACK_RESERVE_INT32
	END_STACK_VARS
	LOADPTR TEXT_WINDOW_GFX, @LOCAL00
	LOADPTR BUFFER, @LOCAL01
	JSL DECOMP
	LOADPTR BUFFER + $3200, @LOCAL00
=======
LOAD_WINDOW_GFX: ;$C47C3F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE_CLOBBER 40
	LOADPTR TEXT_WINDOW_GFX, $0E
	LOADPTR UNKNOWN_7F0000, $12
	JSL DECOMP
	LOADPTR UNKNOWN_7F3200, $0E
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	LDX #$0600
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL MEMSET24
	.A16
	LDA GAME_STATE+game_state::text_flavour
	AND #$00FF
	DEC
	OPTIMIZED_MULT $04, 3
	TAX
	INX
	INX
	LDA f:TEXT_WINDOW_PROPERTIES,X
	AND #$00FF
	BEQ @UNKNOWN1
<<<<<<< HEAD
	LOADPTR FLAVOURED_TEXT_GFX, @LOCAL00
	LOADPTR BUFFER + $100, @LOCAL01
	JSL DECOMP
	.A16
@UNKNOWN1:
	LOADPTR BUFFER + $2A00, @LOCAL07
	LDA #0
	STA @LOCAL06
=======
	LOADPTR FLAVOURED_TEXT_GFX, $0E
	LOADPTR UNKNOWN_7F0100, $12
	JSL DECOMP
	.A16
@UNKNOWN1:
	LOADPTR UNKNOWN_7F2A00, $24
	LDA #$0000
	STA $22
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	JMP @UNKNOWN8
@UNKNOWN2:
@UNKNOWN3:
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
<<<<<<< HEAD
	ADC #.LOWORD(PARTY_CHARACTERS)
	PROMOTENEARPTRA @VIRTUAL06
=======
	ADC #.LOWORD(CHAR_STRUCT)
	PROMOTENEARPTRA $06
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	REP #PROC_FLAGS::ACCUM8
	MOVE_INT $06, $1E
	LDY #$0000
	STY $1C
	JMP @UNKNOWN6
@UNKNOWN5:
	LDA [$1E]
	AND #$00FF
	TAX
	STX $02
	TXA
	AND #$00F0
	CLC
	ADC $02
	ASL
	ASL
	ASL
	ASL
	STORE_INT1632 $0A
	CLC
<<<<<<< HEAD
	VAR_ADD_CONST_INT_ASSIGN BUFFER, @VIRTUAL0A
	LOADPTR BUFFER + $70, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL03
	LDX #0
=======
	VAR_ADD_CONST_INT_ASSIGN $7F0000, $0A
	LOADPTR UNKNOWN_7F0070, $06
	MOVE_INT $06, $18
	LDX #$0000
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	BRA @UNKNOWN5___
@UNKNOWN5__:
	LDA [$0A]
	STA $02
	XBA
	AND #$00FF
	EOR #$00FF
	PHA
	LDA [$06]
	AND #$00FF
	STA $04
	LDA $02
	AND #$FF00
	ORA $04
	PLY
	STY $02
	ORA $02
	STA [$24]
	LDY #$0100
	LDA [$0A],Y
	STA $02
	XBA
	AND #$00FF
	EOR #$00FF
	PHA
	LDA [$06],Y
	AND #$00FF
	STA $04
	LDA $02
	AND #$FF00
	ORA $04
	PLY
	STY $02
	ORA $02
	LDY #$0100
	STA [$24],Y
	MOVE_INT $24, $06
	INC $06
	INC $06
	MOVE_INT $06, $24
	INC $0A
	INC $0A
	MOVE_INT $18, $06
	INC $06
	INC $06
	MOVE_INT $06, $18
	INX
@UNKNOWN5___:
	CPX #$0008
	BCCL @UNKNOWN5__
	MOVE_INT $1E, $06
	INC $06
	MOVE_INT $06, $1E
	LDY $1C
	INY
	STY $1C
@UNKNOWN6:
	CPY #$0004
	BCCL @UNKNOWN5
	LDA $22
	INC
	STA $22
@UNKNOWN8:
	CMP #$0004
	BCCL @UNKNOWN2
<<<<<<< HEAD
	LOADPTR BUFFER + $2C00, @LOCAL05
	LOADPTR STATUS_EQUIP_WINDOW_TEXT_2, @LOCAL07
=======
	LOADPTR UNKNOWN_7F2C00, $1E
	LOADPTR STATUS_EQUIP_WINDOW_TEXT_2, $24
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	JMP @UNKNOWN19
@UNKNOWN14:
	CMP #$0020
	BEQL @UNKNOWN18
	STA $02
	AND #$FFF0
	CLC
	ADC $02
	ASL
	ASL
	ASL
	ASL
	STORE_INT1632 $0A
	CLC
<<<<<<< HEAD
	VAR_ADD_CONST_INT_ASSIGN BUFFER, @VIRTUAL0A
	LOADPTR BUFFER + $70, @VIRTUAL06
	MOVE_INT @VIRTUAL06, @LOCAL03
	LDX #0
=======
	VAR_ADD_CONST_INT_ASSIGN $7F0000, $0A
	LOADPTR UNKNOWN_7F0070, $06
	MOVE_INT $06, $18
	LDX #$0000
>>>>>>> parent of e89e3811 (switch to new stack macro, delete old one and replace some magic numbers)
	BRA @UNKNOWN17
@UNKNOWN16:
	LDA [$0A]
	STA $16
	XBA
	AND #$00FF
	EOR #$00FF
	STA $02
	LDA [$06]
	AND #$00FF
	STA $04
	LDA $16
	AND #$FF00
	ORA $04
	ORA $02
	STA [$1E]
	LDY #$0100
	LDA [$0A],Y
	STA $16
	XBA
	AND #$00FF
	EOR #$00FF
	STA $02
	LDA [$06],Y
	AND #$00FF
	STA $04
	LDA $16
	AND #$FF00
	ORA $04
	ORA $02
	STA [$1E],Y
	MOVE_INT $1E, $06
	INC $06
	INC $06
	MOVE_INT $06, $1E
	INC $0A
	INC $0A
	MOVE_INT $18, $06
	INC $06
	INC $06
	MOVE_INT $06, $18
	INX
@UNKNOWN17:
	CPX #$0008
	BCC @UNKNOWN16
@UNKNOWN18:
	MOVE_INT $24, $06
	INC $06
	INC $06
	MOVE_INT $06, $24
@UNKNOWN19:
	LDA [$24]
	BNEL @UNKNOWN14
	PLD
	RTL
