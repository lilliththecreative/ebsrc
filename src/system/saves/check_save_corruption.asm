
CHECK_SAVE_CORRUPTION: ;$EF0825
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE 18
	TAY
	STY $10
	TYA
	ASL
	STA $02
	JSR VALIDATE_SAVE_BLOCK_CHECKSUMS
	CMP #$0000
	BEQ @UNKNOWN1
	LDA $02
	JSR ERASE_SAVE_BLOCK
	LDX $02
	INX
	STX $0E
	TXA
	JSR VALIDATE_SAVE_BLOCK_CHECKSUMS
	CMP #$0000
	BEQ @UNKNOWN0
	LDX $0E
	TXA
	JSR ERASE_SAVE_BLOCK
	LDY $10
	TYX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:UNKNOWN_EF05A6,X
	ORA CORRUPTION_CHECK_RESULTS
	STA CORRUPTION_CHECK_RESULTS
	BRA @UNKNOWN2
@UNKNOWN0:
	LDX $0E
	LDA $02
	JSR COPY_SAVE_BLOCK
@UNKNOWN1:
	LDY $02
	INY
	STY $10
	TYA
	JSR VALIDATE_SAVE_BLOCK_CHECKSUMS
	.A16
	CMP #$00
	BEQ @UNKNOWN2
	LDY $10
	TYA
	JSR ERASE_SAVE_BLOCK
	LDX $02
	LDY $10
	TYA
	JSR COPY_SAVE_BLOCK
@UNKNOWN2:
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTS
